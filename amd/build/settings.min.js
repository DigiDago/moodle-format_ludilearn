/*! format_ludilearn 2025-03-26 */
define(["jquery","core/ajax","core/notification"],(s,r,n)=>{let o,c,l=[];return{init:(e,t,a)=>{o=e,c=t,l=a,s("#form-parameters").on("submit",e=>{e.preventDefault();let t=!1,i=new FormData(e.target);if(l.forEach(e=>{i.has(e)&&""!==i.get(e)||(t=!0)}),!t){let a={};a.courseid=o,"assignmentbysection"!==c?l.forEach(e=>{a[e]=i.get(e)}):(a.sections=[],l.forEach(e=>{var t={};t.id=e.split("_")[1],t.gameelementid=i.get(e),a.sections.push(t)})),r.call([{methodname:"format_ludilearn_update_"+c+"_parameters",args:a}],!0,!0)[0].done(()=>{s(".editsettingssuccess").show()}).fail(e=>{s(".editsettingsfailed").show(),n.exception(e)})}})}}});