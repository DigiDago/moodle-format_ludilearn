/*! format_ludilearn 2024-11-28 */
define(["jquery","core/ajax","core/templates","core/str"],(r,o)=>{let i,n,c=[];return{init:(e,t,s)=>{i=e,n=t,c=s,r("#form-parameters").on("submit",e=>{e.preventDefault();let t=!1,a=new FormData(e.target);if(c.forEach(e=>{a.has(e)&&""!==a.get(e)||(t=!0)}),!t){let s={};s.courseid=i,"assignmentbysection"!==n?c.forEach(e=>{s[e]=a.get(e)}):(s.sections=[],c.forEach(e=>{var t={};t.id=e.split("_")[1],t.gameelementid=a.get(e),s.sections.push(t)})),o.call([{methodname:"format_ludilearn_update_"+n+"_parameters",args:s}],!0,!0)[0].done(e=>{r(".editsettingssuccess").show()}).fail(e=>{r(".editsettingsfailed").show(),console.error(e)})}})}}});