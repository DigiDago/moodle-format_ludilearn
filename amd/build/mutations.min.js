/*! format_ludilearn 2025-03-26 */
define(["core_courseformat/courseeditor","core_courseformat/local/courseeditor/mutations","core_courseformat/local/content/actions"],function(t,e,a){class LudilearnMutations extends e{cmGamify=async function(e,t){e.setReadOnly(!1),t.forEach(t=>{t=e.get("cm",t);t&&(t.gamified=!0)});var a=e.get("course"),a=await this._callEditWebservice("cm_gamify",a.id,t);e.processUpdates(a,{})};cmNotgamify=async function(e,t){e.setReadOnly(!1),t.forEach(t=>{t=e.get("cm",t);t&&(t.gamified=!1)});var a=e.get("course"),a=await this._callEditWebservice("cm_notgamify",a.id,t);e.processUpdates(a,{})}}return{init:function(){t.getCurrentCourseEditor().addMutations(new LudilearnMutations),a.addActions({cmGamify:"cmGamify",cmNotgamify:"cmNotgamify"})}}});