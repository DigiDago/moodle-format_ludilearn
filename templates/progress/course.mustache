{{!
    This file is part of Moodle - https://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template format_ludimoodle/filename

    Example context (json):
    {}
}}

<div class="course-progress">
    <div class="row">
        <div class="col-12">
            <a href="{{ url }}" class="{{#parameters.restricted }}restricted{{/parameters.restricted}} {{^url}} nourl {{/url}}">
                <div class="row">
                    <div class="{{#parameters.gamified}}{{#parameters.lastaccess}}col-9{{/parameters.lastaccess}}{{/parameters.gamified}}
                        {{^parameters.lastaccess}}col-12{{/parameters.lastaccess}} {{^parameters.gamified}}col-12{{/parameters.gamified}} block_section">
                        {{#parameters.lastaccess}}
                            {{#parameters.gamified}}
                                {{#parameters.completed}}
                                    <img class="ludimoodle-img img-responsive mb-1 d-block mx-auto progression-planet progression-planet-max"
                                         src="{{globals.config.wwwroot}}/course/format/ludimoodle/pix/{{ world }}/progress/course-planet-max-0{{ parameters.planetenumber }}.svg" alt="Image planet progress">
                                {{/parameters.completed}}
                                {{^parameters.completed}}
                                    <img class="ludimoodle-img img-responsive mb-1 d-block mx-auto progression-planet progression-planet-inprogress"
                                         src="{{globals.config.wwwroot}}/course/format/ludimoodle/pix/{{ world }}/progress/course-planet-0{{ parameters.planetenumber }}.svg" alt="Image planet progress">
                                {{/parameters.completed}}
                            {{/parameters.gamified}}
                            {{^parameters.gamified}}
                                <img class="ludimoodle-img img-responsive d-block mx-auto" src="{{globals.config.wwwroot}}/course/format/ludimoodle/pix/{{ world }}/none.svg" alt="Image no gamified">
                            {{/parameters.gamified}}
                        {{/parameters.lastaccess}}
                        {{^parameters.lastaccess}}
                            <img class="ludimoodle-img img-responsive d-block mx-auto" src="{{globals.config.wwwroot}}/course/format/ludimoodle/pix/{{ world }}/unkown.svg" alt="Image not viewed">
                        {{/parameters.lastaccess}}
                    </div>
                    {{#parameters.lastaccess}}
                        {{#parameters.gamified}}
                    <div class="col-3 block_section">
                        <p class="text-center">
                            <span class="progression">{{ parameters.progression }}%</span>
                        </p>
                    </div>
                        {{/parameters.gamified}}
                    {{/parameters.lastaccess}}
                </div>
                <p class="text-center">
                    <span class="sectionname">{{ name }}</span>
                </p>
                {{#parameters.restricted }}
                    <div class="sectionrestrictedinfo small text-center"><i class="fa fa-lock"></i> {{{ parameters.restrictedinfo }}}</div>
                {{/parameters.restricted }}
                {{^visible}}
                    <div class="section-hidden text-center">
                        <span class="badge badge-info">{{#str}} hiddenfromstudents {{/str}}</span>
                    </div>
                {{/visible}}
            </a>
        </div>
    </div>
</div>
